@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Background - Light */
    --background: 215 35% 97%;
    --background-secondary: 218 28% 93%;
    --background-tertiary: 220 22% 88%;
    --background-elevated: 220 20% 82%;

    /* Brand - EventsCV Palette */
    --brand-primary: 244 90% 70%;
    --brand-secondary: 244 89% 75%;
    --brand-accent: 36 94% 62%;
    --brand-light: 244 88% 82%;
    --brand-muted: 217 11% 65%;
    --brand-dark: 244 65% 58%;

    /* Text */
    --foreground: 222 35% 12%;
    --foreground-secondary: 220 20% 28%;
    --foreground-muted: 220 12% 38%;

    /* Glass */
    --glass: 0 0% 100% / 0.82;
    --glass-strong: 0 0% 100% / 0.9;
    --glass-border: 220 15% 80% / 0.85;
    --border-color: 220 15% 78%;

    /* Status */
    --success: 160 84% 39%;
    --success-light: 160 84% 45%;
    --success-dark: 160 84% 32%;
    --warning: 36 94% 62%;
    --warning-light: 36 94% 68%;
    --warning-dark: 36 94% 54%;
    --error: 0 84% 60%;
    --error-light: 0 84% 65%;
    --error-dark: 0 84% 52%;

    /* Misc */
    --radius: 0.75rem;
    --radius-lg: 1rem;
    --radius-xl: 1.5rem;
  }

  .dark {
    /* Background - Dark Gray (matching mobile dark theme #111827) */
    --background: 222 47% 11%;
    --background-secondary: 220 26% 16%;
    --background-tertiary: 217 19% 27%;
    --background-elevated: 215 14% 34%;

    /* Brand - EventsCV Palette */
    --brand-primary: 244 90% 70%;
    --brand-secondary: 244 89% 75%;
    --brand-accent: 36 94% 62%;
    --brand-light: 244 88% 82%;
    --brand-muted: 217 11% 65%;
    --brand-dark: 244 65% 58%;

    /* Text */
    --foreground: 0 0% 100%;
    --foreground-secondary: 218 11% 65%;
    --foreground-muted: 220 9% 60%;

    /* Glass */
    --glass: 0 0% 100% / 0.07;
    --glass-strong: 0 0% 100% / 0.12;
    --glass-border: 0 0% 100% / 0.15;
    --border-color: 0 0% 100% / 0.16;

    /* Status */
    --success: 160 84% 39%;
    --success-light: 160 84% 45%;
    --success-dark: 160 84% 32%;
    --warning: 36 94% 62%;
    --warning-light: 36 94% 68%;
    --warning-dark: 36 94% 54%;
    --error: 0 84% 60%;
    --error-light: 0 84% 65%;
    --error-dark: 0 84% 52%;
  }

  * {
    border-color: hsl(var(--border-color));
  }

  html {
    @apply scroll-smooth antialiased;
    color-scheme: light;
  }

  .dark {
    color-scheme: dark;
  }

  body {
    @apply bg-background text-foreground font-body;
    background-color: hsl(var(--background));
  }

  /* Selection */
  ::selection {
    @apply bg-brand-primary/20 text-foreground;
  }

  /* Focus visible */
  :focus-visible {
    @apply outline-none ring-2 ring-brand-primary ring-offset-2 ring-offset-background;
  }

  /* Light mode overrides for legacy utility classes */
  html:not(.dark) .text-white {
    color: hsl(var(--foreground)) !important;
  }

  html:not(.dark) .hover\:text-white:hover {
    color: hsl(var(--foreground)) !important;
  }

  html:not(.dark) .text-zinc-400,
  html:not(.dark) .text-zinc-500 {
    color: hsl(var(--foreground-muted)) !important;
  }

  html:not(.dark) .border-white\/5,
  html:not(.dark) .border-white\/10,
  html:not(.dark) .border-white\/20 {
    border-color: hsl(var(--border-color)) !important;
  }

  html:not(.dark) .hover\:border-white\/20:hover {
    border-color: hsl(var(--border-color)) !important;
  }

  html:not(.dark) .divide-white\/5 > :not([hidden]) ~ :not([hidden]) {
    border-color: hsl(var(--border-color)) !important;
  }

  html:not(.dark) .bg-white\/5 {
    background-color: hsl(var(--foreground) / 0.04) !important;
  }

  html:not(.dark) .bg-white\/10 {
    background-color: hsl(var(--foreground) / 0.07) !important;
  }

  html:not(.dark) .bg-white\/20 {
    background-color: hsl(var(--foreground) / 0.12) !important;
  }

  html:not(.dark) .bg-white\/40 {
    background-color: hsl(var(--brand-primary) / 0.2) !important;
  }

  html:not(.dark) .hover\:bg-white\/10:hover {
    background-color: hsl(var(--foreground) / 0.08) !important;
  }

  html:not(.dark) .hover\:bg-white\/20:hover {
    background-color: hsl(var(--foreground) / 0.12) !important;
  }

  html:not(.dark) .btn-primary,
  html:not(.dark) .btn-accent {
    color: #fff !important;
  }

  html:not(.dark) .badge-hot {
    color: #fff !important;
  }
}

@layer components {
  /* ===== LAYOUT ===== */
  .container-app {
    @apply mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8;
  }

  .container-narrow {
    @apply mx-auto w-full max-w-4xl px-4 sm:px-6 lg:px-8;
  }

  /* ===== GLASS EFFECTS ===== */
  .glass {
    @apply backdrop-blur-xl border;
    background-color: hsl(var(--glass));
    border-color: hsl(var(--glass-border));
  }

  .glass-subtle {
    @apply backdrop-blur-lg border;
    background-color: hsl(var(--glass));
    border-color: hsl(var(--glass-border));
  }

  .glass-strong {
    @apply backdrop-blur-2xl border;
    background-color: hsl(var(--glass-strong));
    border-color: hsl(var(--glass-border));
  }

  .glass-card {
    @apply glass rounded-2xl shadow-glass;
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.2),
      0 2px 4px -2px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
  }

  .glass-card:hover {
    background-color: hsl(var(--glass-strong));
    border-color: hsl(var(--glass-border));
    transform: translateY(-2px);
    box-shadow:
      0 20px 25px -5px rgba(0, 0, 0, 0.3),
      0 8px 10px -6px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.08);
  }

  /* ===== BUTTONS ===== */
  .btn {
    @apply inline-flex items-center justify-center gap-2 font-semibold
           rounded-xl transition-all duration-200 ease-smooth
           disabled:opacity-50 disabled:cursor-not-allowed
           active:scale-95;
  }

  .btn-sm {
    @apply px-4 py-2 text-sm;
  }

  .btn-md {
    @apply px-6 py-3 text-sm;
  }

  .btn-lg {
    @apply px-8 py-4 text-base;
  }

  .btn-primary {
    @apply btn bg-gradient-primary text-white shadow-lg
           hover:shadow-glow-sm hover:brightness-110;
    color: #fff;
  }

  .btn-secondary {
    @apply btn glass text-foreground hover:border-transparent;
  }

  .btn-secondary:hover {
    background-color: hsl(var(--foreground) / 0.06);
  }

  .btn-ghost {
    @apply btn text-foreground-muted hover:text-foreground;
  }

  .btn-ghost:hover {
    background-color: hsl(var(--foreground) / 0.06);
  }

  .btn-accent {
    @apply btn bg-gradient-ocean text-white shadow-lg
           hover:shadow-glow-accent hover:brightness-110;
    color: #fff;
  }

  /* Button with glow effect */
  .btn-glow {
    @apply relative overflow-hidden;
  }

  .btn-glow::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-brand-primary via-brand-secondary to-brand-accent
           opacity-0 transition-opacity duration-300;
  }

  .btn-glow:hover::before {
    @apply opacity-100;
  }

  .btn-glow::after {
    content: '';
    @apply absolute -inset-1 bg-gradient-primary rounded-xl
           opacity-0 blur-xl transition-opacity duration-300 -z-10;
  }

  .btn-glow:hover::after {
    @apply opacity-50;
  }

  /* ===== INPUTS ===== */
  .input {
    @apply w-full px-4 py-3 rounded-xl
           bg-background-secondary text-foreground
           border border-border
           placeholder:text-foreground-muted
           focus:border-brand-primary focus:ring-1 focus:ring-brand-primary
           transition-all duration-200;
  }

  .input-lg {
    @apply input px-6 py-4 text-lg rounded-2xl;
  }

  .input-search {
    @apply input pl-12 focus:bg-background-secondary focus:border-border;
    background-color: hsl(var(--glass));
  }

  /* ===== CARDS ===== */
  .card {
    @apply bg-background-secondary rounded-2xl border border-border
           transition-all duration-300;
  }

  .card-interactive {
    @apply card hover:bg-background-tertiary hover:border-border
           hover:shadow-xl cursor-pointer;
  }

  .card-event {
    @apply relative overflow-hidden rounded-2xl;
  }

  .card-event-image {
    @apply w-full object-cover
           transition-transform duration-500 group-hover:scale-105;
    aspect-ratio: 16 / 10;
  }

  .card-event-overlay {
    @apply absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent;
  }

  .card-event-content {
    @apply absolute bottom-0 left-0 right-0 p-5
           transform transition-transform duration-300;
  }

  /* ===== BADGES ===== */
  .badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1
           text-xs font-medium rounded-full;
  }

  .badge-primary {
    @apply badge bg-brand-primary/20 text-brand-primary border border-brand-primary/30;
  }

  .badge-success {
    @apply badge bg-success/20 text-success-light border border-success/30;
  }

  .badge-warning {
    @apply badge bg-warning/20 text-warning-light border border-warning/30;
  }

  .badge-error {
    @apply badge bg-error/20 text-error-light border border-error/30;
  }

  .badge-glass {
    @apply badge glass;
  }

  /* Hot/Featured badge */
  .badge-hot {
    @apply badge bg-gradient-sunset text-white font-bold
           shadow-lg animate-pulse-glow;
  }

  /* ===== TYPOGRAPHY ===== */
  .text-gradient {
    @apply bg-gradient-primary bg-clip-text text-transparent;
  }

  .text-gradient-ocean {
    @apply bg-gradient-ocean bg-clip-text text-transparent;
  }

  .text-gradient-sunset {
    @apply bg-gradient-sunset bg-clip-text text-transparent;
  }

  .heading-display {
    @apply font-display font-bold tracking-tight text-foreground;
  }

  /* ===== DIVIDERS ===== */
  .divider {
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      hsl(var(--foreground) / 0.12),
      transparent
    );
  }

  .divider-vertical {
    width: 1px;
    height: 100%;
    background: linear-gradient(
      180deg,
      transparent,
      hsl(var(--foreground) / 0.12),
      transparent
    );
  }

  /* ===== SKELETON LOADING ===== */
  .skeleton {
    @apply bg-gradient-to-r from-background-secondary via-background-tertiary to-background-secondary
           animate-shimmer rounded-lg;
    background-size: 200% 100%;
  }

  /* ===== NAVIGATION ===== */
  .nav-link {
    @apply relative text-sm font-medium text-foreground-muted
           transition-colors duration-200 hover:text-foreground;
  }

  .nav-link-active {
    @apply text-foreground;
  }

  .nav-link::after {
    content: '';
    @apply absolute -bottom-1 left-0 w-0 h-0.5
           bg-gradient-primary rounded-full
           transition-all duration-300;
  }

  .nav-link:hover::after,
  .nav-link-active::after {
    @apply w-full;
  }

  /* ===== TABS ===== */
  .tabs {
    @apply flex gap-1 p-1 rounded-xl bg-background-secondary;
  }

  .tab {
    @apply px-4 py-2 text-sm font-medium text-foreground-muted rounded-lg
           transition-all duration-200 hover:text-foreground;
  }

  .tab-active {
    @apply text-foreground;
    background-color: hsl(var(--foreground) / 0.08);
  }

  /* ===== TOOLTIP ===== */
  .tooltip {
    @apply absolute z-50 px-3 py-2 text-xs font-medium text-foreground
           bg-background-elevated rounded-lg
           border border-border shadow-xl
           opacity-0 invisible transition-all duration-200;
  }

  .tooltip-visible {
    @apply opacity-100 visible;
  }

  /* ===== MODAL ===== */
  .modal-backdrop {
    @apply fixed inset-0 z-50 bg-black/80 backdrop-blur-sm
           flex items-center justify-center p-4;
  }

  .modal {
    @apply relative w-full max-w-lg bg-background-secondary text-foreground
           rounded-3xl border border-border shadow-2xl
           overflow-hidden;
  }

  .modal-header {
    @apply px-6 py-5 border-b border-border;
  }

  .modal-body {
    @apply px-6 py-5;
  }

  .modal-footer {
    @apply px-6 py-4 border-t border-border bg-background/50
           flex items-center justify-end gap-3;
  }

  /* ===== SPECIAL EFFECTS ===== */
  .glow-text {
    text-shadow: 0 0 20px rgba(121, 112, 246, 0.5);
  }

  .glow-box {
    @apply shadow-glow-md;
  }

  /* Floating orbs for hero sections */
  .floating-orb {
    @apply absolute rounded-full blur-3xl opacity-30 pointer-events-none;
  }

  .floating-orb-purple {
    @apply floating-orb bg-brand-secondary w-96 h-96 animate-float;
  }

  .floating-orb-blue {
    @apply floating-orb bg-brand-accent w-80 h-80 animate-float-slow;
  }

  .floating-orb-indigo {
    @apply floating-orb bg-brand-primary w-72 h-72 animate-float-delayed;
  }

  /* Ticket notch effect */
  .ticket-notch::before,
  .ticket-notch::after {
    content: '';
    @apply absolute w-6 h-6 bg-background rounded-full
           top-1/2 -translate-y-1/2;
  }

  .ticket-notch::before {
    @apply -left-3;
  }

  .ticket-notch::after {
    @apply -right-3;
  }
}

@layer utilities {
  /* Text balance */
  .text-balance {
    text-wrap: balance;
  }

  /* Hide scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Custom scrollbar */
  .scrollbar-custom {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
  }

  .scrollbar-custom::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  .scrollbar-custom::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .scrollbar-custom::-webkit-scrollbar-thumb {
    @apply bg-white/10 rounded-full;
  }

  .scrollbar-custom::-webkit-scrollbar-thumb:hover {
    @apply bg-white/20;
  }

  html:not(.dark) .scrollbar-custom {
    scrollbar-color: rgba(0, 0, 0, 0.15) transparent;
  }

  html:not(.dark) .scrollbar-custom::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.12);
  }

  html:not(.dark) .scrollbar-custom::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0, 0, 0, 0.18);
  }

  /* Aspect ratios */
  .aspect-event {
    aspect-ratio: 16 / 10;
  }

  .aspect-ticket {
    aspect-ratio: 3 / 1;
  }

  /* Animation delays */
  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-400 { animation-delay: 400ms; }
  .delay-500 { animation-delay: 500ms; }
}

/* ===== REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .floating-orb {
    @apply hidden;
  }
}

/* ===== PRINT ===== */
@media print {
  .no-print {
    display: none !important;
  }

  body {
    @apply bg-white text-black;
  }
}
